<p-toast />
<div class="activate-warranty">
    <div class="banner">
        <img src="assets/image/banner/banner.png" alt="" />
    </div>
    <div class="container">
        <div class="back">
            <span>
                <i class="pi pi-arrow-left"></i>
            </span>
            <span [routerLink]="'/activate-warranty'">Quay lại</span>
        </div>
        <div class="title">
            <h1>KÍCH HOẠT BẢO HÀNH TRỰC TUYẾN</h1>
            <h1 class="title-success">BẠN ĐÃ KÍCH HOẠT BẢO HÀNH THÀNH CÔNG</h1>
            <h1 class="info-customer">THÔNG TIN KHÁCH HÀNG</h1>
        </div>
        <div class="grid p-fluid mt-2">
            <div class="col-12 md:col-12">
                <div class="field grid">
                    <div
                        class="col-12 mb-2 md:col-5 md:mb-0"
                        style="font-weight: 500"
                    >
                        Họ tên khách hàng:
                    </div>
                    <div
                        class="col-12 mb-2 md:col-7 md:mb-0 flex justify-content-start"
                    >
                        {{ warrantyById?.customer?.name }}
                    </div>
                </div>
                <div class="field grid">
                    <div
                        class="col-12 mb-2 md:col-5 md:mb-0"
                        style="font-weight: 500"
                    >
                        Số điện thoại:
                    </div>
                    <div
                        class="col-12 mb-2 md:col-7 md:mb-0 flex justify-content-start"
                    >
                        {{ warrantyById?.customer?.phoneNumber }}
                    </div>
                </div>
                <div class="field grid">
                    <div
                        class="col-12 mb-2 md:col-5 md:mb-0"
                        style="font-weight: 500"
                    >
                        Địa chỉ:
                    </div>
                    <div
                        class="col-12 mb-2 md:col-7 md:mb-0 flex justify-content-start"
                    >
                        <ng-container
                            *ngIf="
                                warrantyById?.customer?.wardName ||
                                    warrantyById?.customer.addressDetail ||
                                    warrantyById?.customer?.districtName ||
                                    warrantyById?.customer?.cityName;
                                else noInfo
                            "
                        >
                            {{ warrantyById?.customer?.addressDetail }},
                            {{ warrantyById?.customer?.wardName }},
                            {{ warrantyById?.customer?.districtName }},
                            {{ warrantyById?.customer?.cityName }}
                        </ng-container>
                        <ng-template #noInfo> Chưa có thông tin </ng-template>
                    </div>
                </div>
            </div>
        </div>
        <div class="mt-3">
            <p-table [value]="warrantyById?.warrantyProducts">
                <ng-template pTemplate="header">
                    <tr>
                        <th>Mã SP</th>
                        <th>Thông tin sản phẩm</th>
                        <th>Hạn bảo hành</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-product>
                    <tr>
                        <td>{{ product?.productId }}</td>
                        <td>
                            <div class="flex flex-column">
                                <span>
                                    {{ product?.productName }}
                                    {{ product?.value1 }}
                                    {{ product?.value2 }}</span
                                >
                                <span style="font-size: 13px"
                                    ><strong>Số khung:</strong>
                                    {{ product?.sk }}</span
                                >
                                <span style="font-size: 13px"
                                    ><strong>Số máy:</strong>
                                    {{ product?.sm }}</span
                                >
                            </div>
                        </td>
                        <td>
                            {{
                                product.expirationDate
                                    | date : "dd/MM/yyyy HH:mm:ss"
                            }}
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
        <div class="flex gap-2 mt-5">
            <button
                pButton
                pRipple
                (click)="warrantyRequest()"
                type="button"
                label="Tạo yêu cầu bảo hành"
                class="flex-1"
            ></button>
        </div>
    </div>
    <footer class="footer">
        <h1>THÔNG TIN CHUNG</h1>
        <h1 class="name-company">CÔNG TY TNHH TMDV & XNK TIẾN LINH</h1>
        <span>Địa chỉ: Mễ Hạ, Yên Phú, Yên Mỹ, Hưng Yên</span>
        <span>Email: tienlinhgroups&#64;gmail.com</span>
        <span>SĐT:0961462860</span>
    </footer>
</div>
