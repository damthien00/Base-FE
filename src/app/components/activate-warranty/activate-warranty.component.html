<form [formGroup]="createActivateWarranty" (ngSubmit)="onSubmit()">
    <div class="activate-warranty">
        <div class="banner">
            <img src="assets/image/banner/banner.png" alt="" />
        </div>
        <div class="container">
            <div class="back">
                <span>
                    <i class="pi pi-arrow-left"></i>
                </span>
                <span [routerLink]="'/warranty-mb'">Quay lại</span>
            </div>
            <div class="title">
                <h1>KÍCH HOẠT BẢO HÀNH TRỰC TUYẾN</h1>
                <p>
                    Vui lòng điền đầy đủ thông tin vào form. Hệ thống sẽ kích
                    hoạt bảo hành điện tử cho sản phẩm của bạn
                </p>
            </div>

            <div class="form grid p-fluid">
                <div class="col-12 md:col-12 py-1">
                    <div class="field mb-0">
                        <label
                            style="font-weight: 600; color: #000"
                            htmlFor="name1"
                            >Số điện thoại khách hàng<span class="red-asterisk"
                                >*</span
                            ></label
                        >
                        <input
                            pInputText
                            id="name1"
                            type="text"
                            formControlName="phoneNumber"
                            spellcheck="false"
                            placeholder="Nhập số điện thoại"
                        />

                        <div
                            *ngIf="
                                createActivateWarranty.get('phoneNumber')
                                    ?.invalid &&
                                (createActivateWarranty.get('phoneNumber')
                                    ?.dirty ||
                                    createActivateWarranty.get('phoneNumber')
                                        ?.touched)
                            "
                        >
                            <div
                                *ngIf="createActivateWarranty.get('phoneNumber')?.errors?.['required']"
                                class="error-message"
                            >
                                Vui lòng nhập số điện thoại
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 md:col-12 py-1">
                    <div class="field mb-0">
                        <label
                            style="font-weight: 600; color: #000"
                            htmlFor="name1"
                            >Họ tên khách hàng<span class="red-asterisk"
                                >*</span
                            ></label
                        >
                        <input
                            pInputText
                            id="name1"
                            type="text"
                            spellcheck="false"
                            placeholder="Nhập họ tên khách hàng"
                            formControlName="customerName"
                        />
                        <div
                            *ngIf="
                                createActivateWarranty.get('customerName')
                                    ?.invalid &&
                                (createActivateWarranty.get('customerName')
                                    ?.dirty ||
                                    createActivateWarranty.get('customerName')
                                        ?.touched)
                            "
                        >
                            <div
                                *ngIf="createActivateWarranty.get('customerName')?.errors?.['required']"
                                class="error-message"
                            >
                                Vui lòng nhập họ tên khách hàng
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 md:col-12 py-1">
                    <div class="field mb-0">
                        <label
                            style="font-weight: 600; color: #000"
                            htmlFor="name1"
                            >Tỉnh/thành</label
                        >
                        <p-dropdown
                            [options]="cities"
                            [style]="{ width: '100%' }"
                            optionLabel="name"
                            [showClear]="true"
                            placeholder="Chọn Tỉnh/Thành"
                            formControlName="cityId"
                            (onChange)="onCityChange($event, $event.value)"
                            (onClear)="onClearCity()"
                        ></p-dropdown>
                    </div>
                </div>
                <div class="col-12 md:col-12 py-1">
                    <div class="field mb-0">
                        <label
                            style="font-weight: 600; color: #000"
                            htmlFor="name1"
                            >Quận/huyện</label
                        >
                        <p-dropdown
                            [options]="districts"
                            [style]="{ width: '100%' }"
                            optionLabel="name"
                            [showClear]="true"
                            placeholder="Chọn Quận/Huyện"
                            (onChange)="onDistrictChange($event, $event.value)"
                            (onClear)="onClearDistrict()"
                            [emptyMessage]="'Vui lòng chọn tỉnh trước!'"
                            formControlName="districtId"
                        ></p-dropdown>
                    </div>
                </div>
                <div class="col-12 md:col-12 py-1">
                    <div class="field mb-0">
                        <label
                            style="font-weight: 600; color: #000"
                            htmlFor="name1"
                            >Xã/phường</label
                        >
                        <p-dropdown
                            [options]="wards"
                            [style]="{ width: '100%' }"
                            optionLabel="name"
                            [showClear]="true"
                            placeholder="Chọn Xã/Phường"
                            (onClear)="onClearWard()"
                            formControlName="wardId"
                            [emptyMessage]="'Vui lòng chọn tỉnh/huyện trước!'"
                        ></p-dropdown>
                    </div>
                </div>
                <div class="col-12 md:col-12 py-1">
                    <div class="field mb-0">
                        <label
                            style="font-weight: 600; color: #000"
                            htmlFor="name1"
                            >Địa chỉ chi tiết</label
                        >
                        <input
                            pInputText
                            id="name1"
                            type="text"
                            formControlName="address"
                            spellcheck="false"
                            placeholder="Nhập chi tiết địa chỉ"
                        />
                    </div>
                </div>
                <div class="col-12 md:col-10 py-1">
                    <div class="field mb-0">
                        <label
                            style="font-weight: 600; color: #000"
                            htmlFor="name1"
                            >Serial sản phẩm</label
                        >
                        <input
                            pInputText
                            id="name1"
                            [(ngModel)]="keywords"
                            (ngModelChange)="onSearchProductEmei()"
                            [ngModelOptions]="{ standalone: true }"
                            type="text"
                            spellcheck="false"
                            placeholder="Nhập hoặc quét mã sản phẩm"
                        />
                    </div>
                </div>
                <div
                    class="col-12 md:col-2 py-1 flex align-items-end justify-content-center pl-0"
                >
                    <div class="field mb-0">
                        <svg
                            class="block p-2"
                            _ngcontent-ng-c955548431=""
                            stroke-width="0"
                            viewBox="0 0 256 256"
                            height="42px"
                            width="42px"
                            xmlns="http://www.w3.org/2000/svg"
                            [attr.stroke]="'#cccbcc'"
                            [attr.fill]="'#cccbcc'"
                        >
                            <path
                                _ngcontent-ng-c955548431=""
                                d="M232,48V88a8,8,0,0,1-16,0V56H184a8,8,0,0,1,0-16h40A8,8,0,0,1,232,48ZM72,200H40V168a8,8,0,0,0-16,0v40a8,8,0,0,0,8,8H72a8,8,0,0,0,0-16Zm152-40a8,8,0,0,0-8,8v32H184a8,8,0,0,0,0,16h40a8,8,0,0,0,8-8V168A8,8,0,0,0,224,160ZM32,96a8,8,0,0,0,8-8V56H72a8,8,0,0,0,0-16H32a8,8,0,0,0-8,8V88A8,8,0,0,0,32,96ZM80,80a8,8,0,0,0-8,8v80a8,8,0,0,0,16,0V88A8,8,0,0,0,80,80Zm104,88V88a8,8,0,0,0-16,0v80a8,8,0,0,0,16,0ZM144,80a8,8,0,0,0-8,8v80a8,8,0,0,0,16,0V88A8,8,0,0,0,144,80Zm-32,0a8,8,0,0,0-8,8v80a8,8,0,0,0,16,0V88A8,8,0,0,0,112,80Z"
                            ></path>
                        </svg>
                    </div>
                </div>
            </div>
            <div class="mt-3">
                <p-table [value]="productListSelected">
                    <ng-template pTemplate="header">
                        <tr>
                            <th>Mã SP</th>
                            <th>Thông tin sản phẩm</th>
                            <th>Bảo hành</th>
                            <th></th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-item>
                        <tr>
                            <td>{{ item.id }}</td>
                            <td>
                                <div class="flex flex-column">
                                    <span class="mb-1"
                                        >{{
                                            item.productVariant.productName
                                        }}-{{
                                            item.productVariant.valuePropeties1
                                        }}-{{
                                            item.productVariant.valuePropeties2
                                        }}</span
                                    >
                                    <span
                                        ><strong>Số khung:</strong>
                                        {{ item.frameNumber }}</span
                                    >
                                    <span
                                        ><strong>Số máy:</strong>
                                        {{ item.engineNumber }}</span
                                    >
                                </div>
                            </td>
                            <td>24 tháng</td>
                            <td>
                                <span>
                                    <i
                                        style="color: red"
                                        class="pi pi-trash"
                                    ></i>
                                </span>
                            </td>
                        </tr>
                    </ng-template>
                </p-table>
            </div>
            <div class="flex gap-2 mt-5">
                <button
                    pButton
                    pRipple
                    severity="secondary"
                    type="button"
                    label="Hủy"
                    class="p-button-danger flex-1"
                ></button>
                <button
                    pButton
                    pRipple
                    type="submit"
                    label="Kích hoạt"
                    class="flex-1"
                ></button>
            </div>
        </div>
        <footer class="footer">
            <h1>THÔNG TIN CHUNG</h1>
            <h1 class="name-company">CÔNG TY TNHH TMDV & XNK TIẾN LINH</h1>
            <span>Địa chỉ: Mễ Hạ, Yên Phú, Yên Mỹ, Hưng Yên</span>
            <span>Email: tienlinhgroups&#64;gmail.com</span>
            <span>SĐT:0961462860</span>
        </footer>
    </div>
</form>
